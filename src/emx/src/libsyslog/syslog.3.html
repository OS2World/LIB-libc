<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
       syslog,  openlog,  closelog, setlogmask, vsyslog - control
       system log


</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>#include</B> <B>&lt;syslog.h&gt;</B>

       <B>openlog(ident,</B> <B>logopt,</B> <B>facility)</B>
       <B>char</B> <B>*ident;</B>

       <B>syslog(priority,</B> <B>message,</B> <B>parameters</B> <B>...</B> <B>)</B>
       <B>int</B> <B>priority;</B>
       <B>char</B> <B>*message;</B>

       <B>#include</B> <B>&lt;varargs.h&gt;</B>
       <B>vsyslog(priority,</B> <B>message,</B> <B>args)</B>
       <B>int</B> <B>priority;</B>
       <B>char</B> <B>*message;</B>
       <B>va_list</B> <B>args;</B>

       <B>closelog()</B>

       <B>setlogmask(maskpri)</B>


</PRE>
<H2>DESCRIPTION</H2><PRE>
       <I>Syslog</I> arranges to write <I>message</I> onto the system log main-
       tained  by  <B>syslogd(8)</B>.  The message is tagged with <I>prior-</I>
       <I>ity</I>.  The message looks like  a  <B>printf(3)</B>  string  except
       that  <B>%m</B> is replaced by the current error message (as ref-
       erenced by <I>errno</I>).  A trailing newline is added if needed.
       An  alternate  form,  in  which the arguments have already
       been captured using the variable-length  argument  facili-
       ties of <B>varargs(3)</B>, is available under the name <I>vsyslog</I>.

       This message will be read by <B>syslogd(8)</B> and written to the
       system console, log files,  or  forwarded  to  <I>syslogd</I>  on
       another host as appropriate.

       Priorities  are  encoded  as  a <I>facility</I> and a <I>level</I>.  The
       facility describes the part of the system  generating  the
       message.  The level is selected from an ordered list:

       LOG_ALERT
              A  condition  that should be corrected immediately,
              such as a corrupted system database.

       LOG_CRIT
              Critical conditions, e.g., hard device errors.

       LOG_DEBUG
              Messages that contain information normally  of  use
              only when debugging a program.

              A  panic  condition.  This is normally broadcast to
              all users.

       LOG_ERR
              Errors.

       LOG_INFO
              Informational messages.

       LOG_NOTICE
              Conditions  that  are  not  error  conditions,  but
              should possibly be handled specially.

       LOG_WARNING
              Warning messages.

       If  <I>syslog</I>  cannot  pass  the  message to <I>syslogd</I>, it will
       attempt to write the message to the  console  (``/dev/con-
       sole'') if the LOG_CONS option is set (see below).

       If  special processing is needed, <I>openlog</I> can be called to
       initialize the log file.  The parameter <I>ident</I> is a  string
       that is prepended to every message.  <I>Logopt</I> is a bit field
       indicating logging options.   Current  values  for  <I>logopt</I>
       are:

       LOG_CONS
              If  unable to send the message to <I>syslogd</I>, write it
              to the console.

       LOG_NDELAY
              Open the connection to <I>syslogd</I>  immediately.   Nor-
              mally  the  open is delayed until the first message
              is logged.  Useful for programs that need to manage
              the  order in which file descriptors are allocated.

       LOG_PERROR
              Write the message to stderr as well to  the  system
              log.

       LOG_PID
              Log  the  process  id with each message: useful for
              identifying instantiations of daemons.

       The <I>facility</I> parameter encodes a default  facility  to  be
       assigned  to  all  messages  that  do not have an explicit
       facility encoded:

       LOG_AUTH
              The   authorization   system:   <B>login(1)</B>,    <B>su(1)</B>,
              <B>getty(8)</B>, etc.

              The clock daemon.

       LOG_DAEMON
              System  daemons,  such  as <B>ftpd(8)</B>, <B>routed(8)</B>, etc,
              that are  not  provided  for  explicitly  by  other
              facilities.

       LOG_KERN
              Messages  generated by the kernel.  These cannot be
              generated by any user processes.

       LOG_LPR
              The line printer spooling system:  <B>lpr(1)</B>,  <B>lpc(8)</B>,
              <B>lpd(8)</B>, etc.

       LOG_MAIL
              The mail system.

       LOG_NEWS
              The network news system.

       LOG_SYSLOG
              Messages generated internally by <B>syslogd(8)</B>.

       LOG_USER
              Messages  generated by random user processes.  This
              is the default facility identifier if none is spec-
              ified.

       LOG_UUCP
              The uucp system.

       LOG_LOCAL0
              Reserved  for  local use.  Similarly for LOG_LOCAL1
              through LOG_LOCAL7.

       <I>Closelog</I> can be used to close the log file.

       <I>Setlogmask</I> sets the  log  priority  mask  to  <I>maskpri</I>  and
       returns  the previous mask.  Calls to <I>syslog</I> with a prior-
       ity not set in <I>maskpri</I> are  rejected.   The  mask  for  an
       individual   priority  <I>pri</I>  is  calculated  by  the  macro
       LOG_MASK(<I>pri</I>); the mask  for  all  priorities  up  to  and
       including  <I>toppri</I>  is given by the macro LOG_UPTO(<I>toppri</I>).
       The default allows all priorities to be logged.


</PRE>
<H2>EXAMPLES</H2><PRE>
       syslog(LOG_ALERT, "who: internal error 23");

       openlog("ftpd", LOG_PID, LOG_DAEMON);
       setlogmask(LOG_UPTO(LOG_ERR));
       syslog(LOG_INFO, "Connection from host %d", CallingHost);


</PRE>
<H2>SEE ALSO</H2><PRE>
       <B>logger(1)</B>, <B>syslogd(8)</B>

















































</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
